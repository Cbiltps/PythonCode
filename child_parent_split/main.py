import json

str1 = """
# asdadsas 
asdasd

## 1. 项目概述
本项目旨在构建一个高效、可扩展的知识管理系统，用于企业内部文档的结构化处理与智能检索。

系统核心目标包括：
- 支持多级文档结构解析
- 实现语义分块与父子关系建模
- 为后续 RAG（检索增强生成）提供高质量输入

该系统已在多个业务线试点，效果显著。

### 1.1 项目背景
随着企业文档数量激增，传统全文检索已无法满足精准问答需求。

> “我们需要的不是关键词匹配，而是理解文档结构与语义。” —— 技术负责人

#### 1.1.1 行业痛点
- 文档格式混乱（PDF、Word、Markdown 混杂）
- 关键信息埋没在长文本中
- 缺乏层级语义关联

#### 1.1.2 技术契机
近年来，大模型与向量检索技术的成熟为结构化分块提供了新思路。

### 1.2 核心价值
- 提升知识复用率
- 降低新人学习成本
- 支持智能问答与自动摘要

## 2. 系统架构
整体采用分层设计，确保高内聚低耦合。

### 2.1 接口层
- 提供 RESTful 接口，支持用户查询、上传、下载文档。
- 提供文档结构解析接口，将文档转换为结构化数据。
- 提供文档语义分块接口，将文档转换为语义块。
### 2.2 业务层
实际实现为巴拉巴拉巴拉
"""

str2 = """
第一章 总则

第一条 为规范政务数据全生命周期管理，提升数据治理能力，保障数据安全，依据《中华人民共和国数据安全法》《个人信息保护法》等法律法规，制定本办法。

第二条 本办法适用于本市各级党政机关、事业单位及法律法规授权的具有管理公共事务职能的组织（以下统称“数据处理单位”）在履职过程中开展的数据收集、存储、使用、加工、传输、提供、公开等活动。

第三条 本办法所称政务数据，是指数据处理单位在履行法定职责过程中产生或获取的，以电子或其他方式记录的信息。

第二章 数据目录与分类分级

第一节 数据目录编制

第七条 全市建立统一的政务数据目录体系，实行目录清单管理。

第八条 数据处理单位应当按照统一标准编制本单位数据资源目录，并动态更新。

第二节 分类分级标准

第九条 政务数据按照内容属性分为：
（一）基础数据；
（二）主题数据；
（三）业务数据；
（四）公共支撑数据。

第十条 政务数据按照敏感程度分为三级：
1. 一级（公开级）：可向社会公开的数据；
2. 二级（内部级）：仅限单位内部或特定范围使用；
3. 三级（敏感级）：涉及个人隐私、商业秘密或国家安全，严禁擅自披露。

第三章 数据共享与开放

第十二条 政务数据以共享为原则，不共享为例外。凡列入目录的数据，原则上应无条件共享。

附件：

附件1：政务数据分类分级参考标准
一、基础数据：人口、法人、自然资源、电子证照等。
二、敏感数据判定示例：
- 身份证号码：三级
- 手机号码：三级
- 企业注册地址：二级
- 政策文件正文：一级

附件2：
数据安全事件报告模板
【事件名称】：________________  
【发生时间】：____年__月__日 __:__  
【影响系统】：________________  
【初步原因】：□系统漏洞 □人为操作 □外部攻击 □其他  
【已采取措施】：_________________________________________

附件3 自查评分表

| 项目             | 分值 | 得分 | 说明         |
|------------------|------|------|--------------|
| 制度建设         | 20   |      |              |
| 分类分级完成率   | 30   |      | ≥90%得满分   |
| 共享接口可用性   | 25   |      |              |
| 应急预案完备性   | 25   |      |              |
"""

str3 = """
文件内容为: # 成都恒图科技有限责任公司 “一企业一方案”  

为贯彻落实《成都市人工智能产业高质量发展三年行动计划（2024—2026年）》《2025年成都市人工智能与机器人百强企业培育计划》，结合成都恒图科技优化产业链生态，力争进入人工智能全国百强企业行列。  

## 一、企业诉求  

根据公司提出的主要诉求，结合其发展现状和未来规划，列出以下关键诉求点。  

一是供需对接。公司期望与上游企业华为、海光、燧原科技、百度、腾讯、智算中心等进行友好对接，同时与下游媒体、文旅、教育、体育等应用客户加强合作。  

二是场景开放。公司希望协调开放教育、文创文旅、影视等应用场景机会或场景试点，以进一步拓展公司产品和解决方案的应用范围。  

三是科研经费支持。公司拟开展服务于创意视觉内容生产全流程的多模态AI Agent研制与应用服务平台研发，需要获得省、市级重大专项的支持及申报指导。  

四是产学研合作。公司期望与国内外著名高校达成产学研深度合作，共同攻关人工智能领域项目

"""

from test3 import split_file

# 读取Az9P.md文件
file_path = "/Users/lichengxiang/Documents/Coding/PythonCode/Az9P.md"
with open(file_path, "r", encoding="utf-8") as f:
    az9p_content = f.read()

print("正在处理Az9P.md文件...")
print(f"文件总字符数: {len(az9p_content)}")
print("=" * 50)

# 调用split_file函数进行切分
result = split_file(az9p_content)

print(f"\n切分完成，共生成 {len(result)} 个文档块")
print("=" * 50)

# 输出结果
print("\n切分结果:")
print(json.dumps(result, ensure_ascii=False, indent=4))

# 统计父文档和子文档数量
# parent_count = sum(1 for item in result if item["pid"] == -1)
# child_count = sum(1 for item in result if item["pid"] != -1)
# print("\n=" * 50)
# print("统计信息:")
# print(f"父文档数量: {parent_count}")
# print(f"子文档数量: {child_count}")
# print(f"总文档数量: {len(result)}")
